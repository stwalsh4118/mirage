# [17-18] Implement Docker credentials API endpoints

[Back to task list](./tasks.md)

## Description

Create REST API endpoints for Docker registry credentials management: store, list, retrieve, and delete credentials for multiple registries.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-10-09 00:00:00 | Created | N/A | Proposed | Task file created | AI Agent |

## Requirements

1. Implement `POST /api/v1/secrets/docker` - Store registry credentials
2. Implement `GET /api/v1/secrets/docker` - List all registries
3. Implement `GET /api/v1/secrets/docker/:registry` - Get specific registry
4. Implement `DELETE /api/v1/secrets/docker/:registry` - Delete credentials
5. Support common registries: Docker Hub, GHCR, GitLab, custom
6. Add to SecretsController

## Implementation Plan

1. Add Docker credentials methods to SecretsController
2. Implement request validation (registry format, required fields)
3. Support URL encoding for registry names
4. List endpoint returns registry metadata only (no passwords)
5. Register routes

## Test Plan

**Success Criteria**:
- Store credentials for multiple registries
- List returns all configured registries
- Get returns credentials (password not in response for security)
- Delete removes credentials
- Registry name URL encoding works

## Verification

- [ ] Docker credentials endpoints implemented
- [ ] Multiple registry support
- [ ] Password not returned in GET
- [ ] URL encoding for registry names
- [ ] Routes registered
- [ ] Code compiles successfully

## Files Modified

- `api/internal/controller/secrets.go` (updated)
- `api/internal/server/server.go` (updated)

