# [17-22] Implement Railway token UI tab with status and actions

[Back to task list](./tasks.md)

## Description

Build the Railway Token tab with status card, add/update modal, test connection button, rotation functionality, and deletion with warnings.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-10-09 00:00:00 | Created | N/A | Proposed | Task file created | AI Agent |

## Requirements

1. Status card showing:
   - Connection status (configured, not configured, invalid)
   - Last validated timestamp
   - Quick actions
2. Add/Update token modal with:
   - Masked input field
   - Help text with link to Railway docs
   - Live validation
   - Save & Validate button
3. Test Connection button
4. Rotate Token functionality with confirmation
5. Remove Token button with warning
6. API integration for all operations

## Implementation Plan

1. Create Railway token status component
2. Create add/update modal component
3. Implement API client methods
4. Implement token validation
5. Implement rotation with confirmation dialog
6. Implement deletion with affected resources count
7. Add success/error toast notifications

## Test Plan

**Success Criteria**:
- Status displays correct state
- Modal validates token before saving
- Test connection calls Railway API
- Rotation creates new version
- Deletion shows confirmation
- All API errors displayed clearly

## Verification

- [ ] Railway token tab implemented
- [ ] Status card shows correct state
- [ ] Add/update modal works
- [ ] Test connection functional
- [ ] Rotation works
- [ ] Deletion with confirmation
- [ ] API integration complete
- [ ] Error handling works

## Files Modified

- `web/src/app/settings/credentials/page.tsx` (updated)
- `web/src/components/credentials/RailwayTokenTab.tsx` (new)
- `web/src/lib/api/secrets.ts` (new)

