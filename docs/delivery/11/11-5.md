# [11-5] Add deployment source selection to wizard UI

[Back to task list](./tasks.md)

## Description
Extend the environment creation wizard to allow users to choose between deploying from source repository or from Docker image, with conditional form rendering based on selection.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-09-30 14:30:00 | Created | N/A | Proposed | Task file created | ai-agent |

## Requirements
- Add "Deployment Source" selection before or within service configuration step
- Radio group or toggle with two options:
  - "From Source Repository" (existing behavior)
  - "From Docker Image" (new)
- Conditionally render appropriate form based on selection
- Update wizard state to track deployment source choice
- Preserve form state when switching between options
- Show helper text explaining each option
- Add visual distinction (icons for source vs image)
- Ensure responsive design works on mobile

## Implementation Plan
1. Add deployment source state to wizard store (`useWizardStore`)
2. Create `DeploymentSourceSelector` component with radio group
3. Add source selection to Step 2 or as new substep
4. Conditionally render repo form vs image form based on selection
5. Add icons for visual distinction (GitBranch for repo, Package for image)
6. Add helper text for each option
7. Update wizard navigation to handle new state
8. Add validation for selected deployment source
9. Test state persistence when navigating back/forward

## Test Plan
### Basic Implementation Scope
- Deployment source selector displays both options
- Selecting "From Source Repository" shows repo/branch fields
- Selecting "From Docker Image" shows image configuration fields (task 11-6)
- Selection state persists when navigating wizard steps
- Helper text clearly explains each option
- Visual design matches existing wizard aesthetics
- Responsive design works on mobile devices

## Verification
- User can select deployment source in wizard
- Correct form is displayed based on selection
- State persists across wizard navigation
- Component follows existing design patterns
- No console errors or warnings
- Visual design is polished and professional

## Files Modified
- `web/src/components/wizard/CreateEnvironmentDialog.tsx` (or equivalent wizard component)
- `web/src/stores/wizardStore.ts` (state management)
- `web/src/components/wizard/DeploymentSourceSelector.tsx` (new component)

