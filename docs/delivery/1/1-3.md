# [1-3] Design and migrate persistence schema

[Back to task list](../tasks.md)

## Description
Design database schema and migrations for Environment, Service, and Template entities to persist state for the MVP.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-09-05 12:10:00 | Created | N/A | Proposed | Task file created | ai-agent |
| 2025-09-05 13:25:00 | Status Change | Proposed | InProgress | Started schema design and migration setup (SQLite MVP) | ai-agent |

## Requirements
- Tables for environments, services, templates.
- Indices for common lookups and status filtering.
- Migration scripts for SQLite and Postgres.

## Implementation Plan
- Define entity models and relations.
- Author SQL migrations (SQLite first, Postgres compatible later).
- Add migration runner to backend (embedded FS).

## Test Plan
- Run migrations up/down on SQLite locally.
- Verify CRUD of entities in a dev database.

## Verification
- Schema supports MVP queries and updates.

## Files Modified
- Migration files and ORM/data access code.
