# Mirage API - Environment Variables Example
# Copy this file to .env and fill in your actual values

# =============================================================================
# Application Configuration
# =============================================================================
APP_ENV=development
HTTP_PORT=8080

# =============================================================================
# Database Configuration
# =============================================================================
# For PostgreSQL (production):
# DATABASE_URL=postgresql://user:password@host:port/database
# For SQLite (development):
# Leave empty to use default SQLite (mirage.db)
DATABASE_URL=

# =============================================================================
# Clerk Authentication (REQUIRED)
# =============================================================================
# Get these from: https://dashboard.clerk.com
CLERK_SECRET_KEY=your_clerk_secret_key_here
CLERK_WEBHOOK_SECRET=your_clerk_webhook_secret_here

# =============================================================================
# Railway API Configuration
# =============================================================================
# Fallback token when Vault is disabled or unavailable
# Get from: https://railway.app/account/tokens
RAILWAY_API_TOKEN=your_railway_api_token_here

# Optional: Specific project ID for single-project deployments
# RAILWAY_PROJECT_ID=

# Optional: Override Railway GraphQL endpoint (advanced usage)
# RAILWAY_GRAPHQL_ENDPOINT=

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins
# Development default:
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:3002

# Production example:
# ALLOWED_ORIGINS=https://your-production-domain.com

# =============================================================================
# Status Poller Configuration
# =============================================================================
# Interval in seconds for polling Railway for environment status
POLL_INTERVAL_SECONDS=30

# Jitter fraction (0-1) to prevent thundering herd
POLL_JITTER_FRACTION=0.2

# =============================================================================
# HashiCorp Vault Configuration
# =============================================================================

# Enable/disable Vault integration (default: false)
VAULT_ENABLED=true

# Vault server address
# Development (docker-compose):
VAULT_ADDR=http://localhost:8200

# Production:
# VAULT_ADDR=https://your-vault-service.railway.app

# --- Authentication Method 1: Token Auth (Development) ---
# Use for local development with docker-compose Vault
VAULT_TOKEN=dev-root-token

# --- Authentication Method 2: AppRole Auth (Production) ---
# Use for production deployments
# VAULT_ROLE_ID=your_vault_role_id
# VAULT_SECRET_ID=your_vault_secret_id

# --- Optional Vault Settings ---
# Vault namespace (Vault Enterprise only)
# VAULT_NAMESPACE=

# Skip TLS verification (DEVELOPMENT ONLY - DO NOT USE IN PRODUCTION)
VAULT_SKIP_VERIFY=true

# Mount path for Mirage secrets in Vault
VAULT_MOUNT_PATH=mirage
